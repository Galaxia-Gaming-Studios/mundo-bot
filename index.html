<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kirito Bot Web</title>
  <link rel="stylesheet" href="estilos.css">

  <!-- Open Graph (Para WhatsApp, Facebook y otras redes sociales) -->
  <meta property="og:title" content="Kirito Bot Web">
  <meta property="og:description" content="Alquila o compra tu bot personalizado con Kirito-Bot.">
  <meta property="og:image" content="https://qu.ax/ktODx.jpg">
  <meta property="og:url" content="https://deylinqff.github.io/Kirito-Bot-web/">
  <meta property="og:type" content="website">

  <!-- Twitter Card (Para Twitter) -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Kirito Bot Web">
  <meta name="twitter:description" content="Alquila o compra tu bot personalizado con Kirito-Bot.">
  <meta name="twitter:image" content="https://qu.ax/ktODx.jpg">
</head>
<body>

  <!-- Registro -->
  <div id="registro" class="container">
    <h1>Registro de Usuario</h1>
    <form id="form-registro">
      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" required>
      <label for="email">Correo Electrónico:</label>
      <input type="email" id="email" name="email" required>
      <label for="password">Contraseña:</label>
      <input type="password" id="password" name="password" required>
      <button type="submit">Registrarse</button>
    </form>
  </div>

  <!-- Perfil del Usuario -->
  <div id="perfil" class="container" style="display: none;">
    <h1>Bienvenido, <span id="user-name"></span>!</h1>
    <p>Correo: <span id="user-email"></span></p>
    <button onclick="cerrarSesion()">Cerrar sesión</button>
    <button onclick="eliminarRegistro()">Eliminar registro</button>
  </div>

  <!-- Selección de Bots -->
  <div id="seleccion-bots" class="container" style="display: none;">
    <h1>Elige tu Bot</h1>
    <div class="bot">
      <img src="assets/images/bot1.png" alt="Bot de Grupos">
      <h2>Bot de Grupos</h2>
      <button onclick="mostrarPago()">Comprar</button>
      <button onclick="mostrarPago()">Alquilar</button>
    </div>
    <div class="bot">
      <img src="assets/images/bot2.jpg" alt="Bot Personal">
      <h2>Bot Personal</h2>
      <button onclick="mostrarPago()">Comprar</button>
      <button onclick="mostrarPago()">Alquilar</button>
    </div>
  </div>

  <!-- Método de Pago -->
  <div id="pago" class="container" style="display: none;">
    <h1>Método de Pago</h1>
    <form id="form-pago">
      <label for="tarjeta">Número de Tarjeta:</label>
      <input type="text" id="tarjeta" name="tarjeta" required>
      <label for="cvv">CVV:</label>
      <input type="text" id="cvv" name="cvv" required>
      <button type="submit">Pagar</button>
    </form>
  </div>

  <script src="main.js"></script>
  <script>
    // Verificar si el usuario ya está registrado
    window.onload = function() {
      if (localStorage.getItem('user')) {
        mostrarPerfil();
      } else {
        document.getElementById('registro').style.display = 'block';
      }
    };

    // Registro de usuario
    document.getElementById("form-registro").addEventListener("submit", function(event) {
      event.preventDefault();

      const nombre = document.getElementById('nombre').value;
      const email = document.getElementById('email').value;

      // Guardar usuario en localStorage
      localStorage.setItem('user', JSON.stringify({ nombre, email }));
      mostrarPerfil();
    });

    // Mostrar perfil del usuario
    function mostrarPerfil() {
      const usuario = JSON.parse(localStorage.getItem('user'));
      document.getElementById('user-name').innerText = usuario.nombre;
      document.getElementById('user-email').innerText = usuario.email;

      document.getElementById('registro').style.display = 'none';
      document.getElementById('perfil').style.display = 'block';
      document.getElementById('seleccion-bots').style.display = 'block';
    }

    // Cerrar sesión
    function cerrarSesion() {
      localStorage.removeItem('user');
      document.getElementById('perfil').style.display = 'none';
      document.getElementById('registro').style.display = 'block';
      document.getElementById('seleccion-bots').style.display = 'none';
    }

    // Mostrar formulario de pago
    function mostrarPago() {
      document.getElementById('seleccion-bots').style.display = 'none';
      document.getElementById('pago').style.display = 'block';
    }

    // Función para eliminar el registro pidiendo el correo
    function eliminarRegistro() {
      const emailInput = prompt("Ingresa tu correo para eliminar tu registro:");
      if (!emailInput) return; // Si cancela o no ingresa nada, salir

      const usuario = JSON.parse(localStorage.getItem('user'));
      if (usuario && usuario.email === emailInput.trim()) {
        localStorage.removeItem('user');
        alert("Tu registro ha sido eliminado.");
        // Reiniciar la interfaz a estado de registro
        document.getElementById('perfil').style.display = 'none';
        document.getElementById('seleccion-bots').style.display = 'none';
        document.getElementById('registro').style.display = 'block';
      } else {
        alert("El correo ingresado no coincide con tu registro.");
      }
    }
  </script>

</body>
</html>